<div class="row text-dark">
  <div class="col-12 col-md-6 mx-auto">
    <h1 class="h2 text-center">Ajout d'une offre</h1>
    <form [formGroup]="createJobForm" (ngSubmit)="onSubmit()" >
      <div class="form-group">
        <label for="title" class="required">Titre</label>
        <input
          type="text"
          id="title"
          name="title"
          class="form-control"
          formControlName="title"
          required
          />
        <small class="text-danger" *ngIf="createJobForm.get('title').hasError('required')">
          Title is required !
        </small>
      </div>

      <div class="form-group mt-3">
        <label for="entreprise" class="required">Entreprise</label>
        <input
          type="text"
          id="entreprise"
          name="entreprise"
          class="form-control"
          formControlName="entreprise"
          required
          />
        <small class="text-danger" *ngIf="createJobForm.get('entreprise').hasError('required')">
          Entreprise is required !
        </small>
      </div>

      <div class="form-group mt-3">
        <label for="offer_link">Lien offre</label>
        <input
          type="text"
          id="offer_link"
          name="offer_link"
          class="form-control"
          formControlName="offer_link"
          placeholder="https://xxxxx.xx"
          />
        <small class="text-danger" *ngIf="createJobForm.get('offer_link').hasError('pattern')">
          Offer link has not the correct format! (should be : https://xxxxx.xx)
        </small>
      </div>

      <div class="form-check mt-3">
        <label for="has_postulated">Postulé ?</label>
        <input type="checkbox" id="has_postulated" class="form-check-input" (change)="showDatePostul()"
               formControlName="has_postulated"/>
      </div>

      <div class="form-group mt-2" *ngIf="showPostulated">
        <div class="input-group">
          <input class="form-control" placeholder="yyyy-mm-dd"
                 name="dp" formControlName="date_postulated" ngbDatepicker #d="ngbDatepicker">
          <div class="input-group-append">
            <button class="btn btn-outline-secondary calendar" (click)="d.toggle()" type="button">
              <span class="bi bi-calendar-date"></span>
            </button>
          </div>
        </div>
      </div>

      <div class="form-group mt-3">
        <label for="salary">Salaire</label>
        <div class="input-group">

          <input
            type="number"
            id="salary"
            name="salary"
            class="form-control w-50"
            formControlName="salary"
          />
          <div class="input-group-appended">
            <span class="input-group-text">
              €
            </span>
          </div>
        </div>

        <small class="text-danger" *ngIf="createJobForm.get('salary').hasError('pattern')">
          Salary has not the correct format! (should be at least : 100)
        </small>
      </div>

      <div class="form-group mt-3">
        <label for="type">Type</label>
        <select name="type" id="type" class="form-control form-select" formControlName="type">
          <option value="" disabled>Choose type missions</option>
          <option value="CDI">CDI</option>
          <option value="CDD">CDD</option>
          <option value="freelance">Freelance</option>
        </select>
      </div>


      <div class="form-group mt-3">
        <label for="description">Description</label>
        <textarea
          id="description"
          name="description"
          class="form-control"
          formControlName="description"
        ></textarea>
      </div>

      <p class="mt-2 fst-italic"><small> (*) champs requis !</small></p>
      <button [disabled]="createJobForm.invalid" class="btn btn-primary mt-5 mb-5" type="submit">Ajout</button>
      <button class="btn btn-danger mt-5 mb-5 ms-5 " type="button" (click)="createJobForm.reset({})">Reset</button>
    </form>

  </div>
</div>
